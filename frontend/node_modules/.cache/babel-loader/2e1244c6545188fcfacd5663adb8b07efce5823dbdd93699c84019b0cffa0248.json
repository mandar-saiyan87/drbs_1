{"ast":null,"code":"import _slicedToArray from\"/media/mandar/Learnings_Softwares/All_programming/Personal Projects/Personal/WebDev/Deshastha Bramhan Sangh/drbs_1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{Link}from\"react-router-dom\";import{AppContext}from'../context/AppContext';import{useNavigate}from\"react-router-dom\";import exportFromJSON from'export-from-json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function HallBooking(){var context=useContext(AppContext);var bookings=context.bookings,getBookings=context.getBookings,deleteBooking=context.deleteBooking,searchBooking=context.searchBooking;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),bookingSearch=_useState2[0],setBookingSearch=_useState2[1];var data=bookings;var filename='download';var exportType=exportFromJSON.types.csv;function ExporttoExcel(){exportFromJSON({data:data,filename:filename,exportType:exportType});}useEffect(function(){if(bookingSearch.length===0){getBookings();}// eslint-disable-next-line\n},[deleteBooking,bookingSearch]);function updateBookingDetails(bookingData){navigate('/editHallBooking',{state:bookingData});}function handleSearch(){searchBooking(bookingSearch);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-9\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer w-[9%]\",children:/*#__PURE__*/_jsx(Link,{to:\"/hallbookingform\",children:\"New Booking\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer w-[5%]\",onClick:ExporttoExcel,children:\"Export\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:bookingSearch,className:\"w-[20%]\",onChange:function onChange(e){return setBookingSearch(e.target.value);},placeholder:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 text-white hover:bg-gray-400 cursor-pointer\",onClick:handleSearch,children:\"SEARCH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 mt-10 w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0938\\u0902\\u092A\\u0942\\u0930\\u094D\\u0923 \\u0928\\u093E\\u0902\\u0935\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0938\\u092D\\u093E\\u0917\\u0943\\u0939\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0915\\u093E\\u0930\\u094D\\u092F\\u0915\\u094D\\u0930\\u092E\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0926\\u093F\\u0935\\u0938\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u092C\\u0941\\u0915\\u093F\\u0902\\u0917\\u091A\\u093E \\u092A\\u094D\\u0930\\u0915\\u093E\\u0930\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-5\"}),bookings.map(function(booking,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{children:booking.fullname}),/*#__PURE__*/_jsx(\"div\",{children:booking.hallno}),/*#__PURE__*/_jsx(\"div\",{children:booking.event}),/*#__PURE__*/_jsx(\"div\",{children:booking.eventdate}),/*#__PURE__*/_jsx(\"div\",{children:booking.bookingtype})]},index),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer\",onClick:function onClick(){return updateBookingDetails(booking);},children:\"EDIT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer\",onClick:function onClick(){return deleteBooking(booking.id);},children:\"DELETE\"})]})]});})]})]})});}","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","AppContext","useNavigate","exportFromJSON","HallBooking","context","bookings","getBookings","deleteBooking","searchBooking","navigate","bookingSearch","setBookingSearch","data","filename","exportType","types","csv","ExporttoExcel","length","updateBookingDetails","bookingData","state","handleSearch","e","target","value","map","booking","index","fullname","hallno","event","eventdate","bookingtype","id"],"sources":["/media/mandar/Learnings_Softwares/All_programming/Personal Projects/Personal/WebDev/Deshastha Bramhan Sangh/drbs_1/src/components/pages/HallBooking.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from '../context/AppContext';\nimport { useNavigate } from \"react-router-dom\";\nimport exportFromJSON from 'export-from-json';\n\n\nexport default function HallBooking() {\n\n  const context = useContext(AppContext);\n\n  const { bookings, getBookings, deleteBooking, searchBooking } = context;\n  const navigate = useNavigate();\n\n  const [bookingSearch, setBookingSearch] = useState(\"\")\n\n  const data = bookings;\n  const filename = 'download';\n  const exportType = exportFromJSON.types.csv;\n\n  function ExporttoExcel() {\n    exportFromJSON({ data, filename, exportType })\n  }\n\n\n  useEffect(() => {\n    if (bookingSearch.length === 0) {\n      getBookings();\n    }\n    // eslint-disable-next-line\n  }, [deleteBooking, bookingSearch]);\n\n  function updateBookingDetails(bookingData) {\n    navigate('/editHallBooking', { state: bookingData })\n  }\n\n  function handleSearch() {\n    searchBooking(bookingSearch)\n  }\n\n  return (\n    <>\n      <div className='px-9'>\n        <div className='bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer w-[9%]'>\n          <Link to=\"/hallbookingform\">New Booking</Link>\n        </div>\n        <div className='bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer w-[5%]' onClick={ExporttoExcel}>Export</div>\n        <div className='flex flex-row'>\n          <input type=\"text\" value={bookingSearch} className='w-[20%]' onChange={(e) => setBookingSearch(e.target.value)} placeholder='Search' />\n          <div className='bg-blue-500 px-4 text-white hover:bg-gray-400 cursor-pointer' onClick={handleSearch}>SEARCH</div>\n        </div>\n        <div className='grid grid-cols-5 mt-10 w-[85%]'>\n          <div>संपूर्ण नांव</div>\n          <div>सभागृह</div>\n          <div>कार्यक्रम</div>\n          <div>दिवस</div>\n          <div>बुकिंगचा प्रकार</div>\n        </div>\n        <hr />\n        <div>\n          <div className='my-5'></div>\n          {bookings.map((booking, index) => {\n            return (\n              <div className='flex flex-row my-5'>\n                <div className='grid grid-cols-5 w-[85%]' key={index}>\n                  <div>{booking.fullname}</div>\n                  <div>{booking.hallno}</div>\n                  <div>{booking.event}</div>\n                  <div>{booking.eventdate}</div>\n                  <div>{booking.bookingtype}</div>\n                </div>\n                <div className='flex flex-row'>\n                  <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => updateBookingDetails(booking)}>EDIT</div>\n                  <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => deleteBooking(booking.id)}>DELETE</div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}