{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Link}from\"react-router-dom\";import{AppContext}from'../context/AppContext';import{useNavigate}from\"react-router-dom\";import exportFromJSON from'export-from-json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function HallBooking(){const context=useContext(AppContext);const{bookings,getBookings,deleteBooking,searchBooking}=context;const navigate=useNavigate();const[bookingSearch,setBookingSearch]=useState(\"\");const data=bookings;const filename='download';const exportType=exportFromJSON.types.csv;function ExporttoExcel(){exportFromJSON({data,filename,exportType});}useEffect(()=>{if(bookingSearch.length===0){getBookings();}// eslint-disable-next-line\n},[deleteBooking,bookingSearch]);function updateBookingDetails(bookingData){navigate('/editHallBooking',{state:bookingData});}function handleSearch(){searchBooking(bookingSearch);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-9\",children:[/*#__PURE__*/_jsx(Link,{to:\"/hallbookingform\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max\",children:\"New Booking\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max\",onClick:ExporttoExcel,children:\"Export\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:bookingSearch,className:\"w-[20%]\",onChange:e=>setBookingSearch(e.target.value),placeholder:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 text-white hover:bg-gray-400 cursor-pointer\",onClick:handleSearch,children:\"SEARCH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 mt-10 w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0938\\u0902\\u092A\\u0942\\u0930\\u094D\\u0923 \\u0928\\u093E\\u0902\\u0935\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0938\\u092D\\u093E\\u0917\\u0943\\u0939\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0915\\u093E\\u0930\\u094D\\u092F\\u0915\\u094D\\u0930\\u092E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0926\\u093F\\u0935\\u0938\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u092C\\u0941\\u0915\\u093F\\u0902\\u0917\\u091A\\u093E \\u092A\\u094D\\u0930\\u0915\\u093E\\u0930\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-5\"}),bookings.map((booking,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:booking.fullname})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:booking.hallno})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:booking.event})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:booking.eventdate})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:booking.bookingtype})})]},index),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer\",onClick:()=>updateBookingDetails(booking),children:\"EDIT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer\",onClick:()=>deleteBooking(booking.id),children:\"DELETE\"})]})]});})]})]})});}","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","AppContext","useNavigate","exportFromJSON","HallBooking","context","bookings","getBookings","deleteBooking","searchBooking","navigate","bookingSearch","setBookingSearch","data","filename","exportType","types","csv","ExporttoExcel","length","updateBookingDetails","bookingData","state","handleSearch","e","target","value","map","booking","index","fullname","hallno","event","eventdate","bookingtype","id"],"sources":["/media/mandar/Learnings_Softwares/All_programming/Personal Projects/Personal/WebDev/Deshastha Bramhan Sangh/drbs_1/src/components/pages/HallBooking.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from '../context/AppContext';\nimport { useNavigate } from \"react-router-dom\";\nimport exportFromJSON from 'export-from-json';\n\n\nexport default function HallBooking() {\n\n  const context = useContext(AppContext);\n\n  const { bookings, getBookings, deleteBooking, searchBooking } = context;\n  const navigate = useNavigate();\n\n  const [bookingSearch, setBookingSearch] = useState(\"\")\n\n  const data = bookings;\n  const filename = 'download';\n  const exportType = exportFromJSON.types.csv;\n\n  function ExporttoExcel() {\n    exportFromJSON({ data, filename, exportType })\n  }\n\n\n  useEffect(() => {\n    if (bookingSearch.length === 0) {\n      getBookings();\n    }\n    // eslint-disable-next-line\n  }, [deleteBooking, bookingSearch]);\n\n  function updateBookingDetails(bookingData) {\n    navigate('/editHallBooking', { state: bookingData })\n  }\n\n  function handleSearch() {\n    searchBooking(bookingSearch)\n  }\n\n  return (\n    <>\n      <div className='px-9'>\n        <Link to=\"/hallbookingform\">\n          <div className='bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max'>New Booking</div>\n        </Link>\n        <div className='bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max' onClick={ExporttoExcel}>Export</div>\n        <div className='flex flex-row'>\n          <input type=\"text\" value={bookingSearch} className='w-[20%]' onChange={(e) => setBookingSearch(e.target.value)} placeholder='Search' />\n          <div className='bg-blue-500 px-4 text-white hover:bg-gray-400 cursor-pointer' onClick={handleSearch}>SEARCH</div>\n        </div>\n        <div className='grid grid-cols-5 mt-10 w-[85%]'>\n          <div className='flex text-left'>संपूर्ण नांव</div>\n          <div className='flex text-left'>सभागृह</div>\n          <div className='flex text-left'>कार्यक्रम</div>\n          <div className='flex text-left'>दिवस</div>\n          <div className='flex text-left'>बुकिंगचा प्रकार</div>\n        </div>\n        <hr />\n        <div>\n          <div className='my-5'></div>\n          {bookings.map((booking, index) => {\n            return (\n              <div className='flex flex-row my-5'>\n                <div className='grid grid-cols-5 w-[85%]' key={index}>\n                  <div className='flex items-center justify-start'><p>{booking.fullname}</p></div>\n                  <div className='flex items-center justify-start'><p>{booking.hallno}</p></div>\n                  <div className='flex items-center justify-start'><p>{booking.event}</p></div>\n                  <div className='flex items-center justify-start'><p>{booking.eventdate}</p></div>\n                  <div className='flex items-center justify-start'><p>{booking.bookingtype}</p></div>\n                </div>\n                <div className='flex flex-row items-center justify-center'>\n                  <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => updateBookingDetails(booking)}>EDIT</div>\n                  <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => deleteBooking(booking.id)}>DELETE</div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}