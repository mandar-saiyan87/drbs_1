{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Link}from\"react-router-dom\";import{AppContext}from'../context/AppContext';import{useNavigate}from\"react-router-dom\";import exportFromJSON from'export-from-json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MembersPage(){const context=useContext(AppContext);const{members,getMembers,deleteMember,searchMember}=context;const navigate=useNavigate();const[search,setSearch]=useState(\"\");// const sortedMembers = [...members].sort((a, b) => a.memberno - b.memberno)\nconst data=members;const filename='download';const exportType=exportFromJSON.types.csv;function ExporttoExcel(){exportFromJSON({data,filename,exportType});}useEffect(()=>{if(search.length===0){getMembers();}// eslint-disable-next-line\n},[deleteMember,search,members]);function updateMemberDetails(memberData){navigate('/editMembers',{state:memberData});}function handleSearch(){searchMember(search);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-9\",children:[/*#__PURE__*/_jsx(Link,{to:\"/membersform\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max\",children:\"Add Member\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max\",onClick:ExporttoExcel,children:\"Export\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:search,className:\"w-[20%]\",onChange:e=>setSearch(e.target.value),placeholder:\"Search\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 text-white hover:bg-gray-400 cursor-pointer\",onClick:handleSearch,children:\"SEARCH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 mt-10 w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0938\\u092D\\u093E\\u0938\\u0926 \\u0915\\u094D\\u0930.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0938\\u0902\\u092A\\u0942\\u0930\\u094D\\u0923 \\u0928\\u093E\\u0902\\u0935\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u092D\\u094D\\u0930\\u092E\\u0923\\u0927\\u094D\\u0935\\u0928\\u0940\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0938\\u092D\\u093E\\u0938\\u0926 \\u0935\\u0930\\u094D\\u0917\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex text-left\",children:\"\\u0932\\u093E\\u0908\\u092B \\u0938\\u094D\\u091F\\u0947\\u091F\\u0938\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-5\"}),members.sort((a,b)=>a.memberno-b.memberno).map(member=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:member.memberno})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:member.fullname})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:member.mobile===\"\"?'-':member.mobile})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:member.membership})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start\",children:/*#__PURE__*/_jsx(\"p\",{children:member.livingStatus})})]},member),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer\",onClick:()=>updateMemberDetails(member),children:\"EDIT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer\",onClick:()=>deleteMember(member.id),children:\"DELETE\"})]})]});})]})]})});}export default MembersPage;// {\n//   members.sort((a, b) => a.memberno > b.memberno ? b : a).map((member) => {\n//     return (\n//       <div className='flex flex-row my-5'>\n//         <div className='grid grid-cols-5 w-[85%]' key={member}>\n//           <div className='flex items-center justify-start'>\n//             <p>{member.memberno}</p>\n//           </div>\n//           <div className='flex items-center justify-start'><p>{member.fullname}</p></div>\n//           <div className='flex items-center justify-start'><p>{member.mobile === \"\" ? '-' : member.mobile}</p></div>\n//           <div className='flex items-center justify-start'><p>{member.membership}</p></div>\n//           <div className='flex items-center justify-start'><p>{member.livingStatus}</p></div>\n//         </div>\n//         <div className='flex flex-row items-center justify-center'>\n//           <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => updateMemberDetails(member)}>EDIT</div>\n//           <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => deleteMember(member.id)}>DELETE</div>\n//         </div>\n//       </div>\n//     )\n//   })\n// }","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","AppContext","useNavigate","exportFromJSON","MembersPage","context","members","getMembers","deleteMember","searchMember","navigate","search","setSearch","data","filename","exportType","types","csv","ExporttoExcel","length","updateMemberDetails","memberData","state","handleSearch","e","target","value","sort","a","b","memberno","map","member","fullname","mobile","membership","livingStatus","id"],"sources":["/media/mandar/Learnings_Softwares/All_programming/Personal Projects/Personal/WebDev/Deshastha Bramhan Sangh/drbs_1/src/components/pages/MembersPage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from '../context/AppContext';\nimport { useNavigate } from \"react-router-dom\";\nimport exportFromJSON from 'export-from-json';\n\nfunction MembersPage() {\n\n  const context = useContext(AppContext);\n\n  const { members, getMembers, deleteMember, searchMember } = context;\n  const navigate = useNavigate();\n\n  const [search, setSearch] = useState(\"\")\n\n  // const sortedMembers = [...members].sort((a, b) => a.memberno - b.memberno)\n\n  const data = members;\n  const filename = 'download';\n  const exportType = exportFromJSON.types.csv;\n\n  function ExporttoExcel() {\n    exportFromJSON({ data, filename, exportType })\n  }\n\n  useEffect(() => {\n    if (search.length === 0) {\n      getMembers();\n    }\n    // eslint-disable-next-line\n  }, [deleteMember, search, members]);\n\n  function updateMemberDetails(memberData) {\n    navigate('/editMembers', { state: memberData })\n  }\n\n\n  function handleSearch() {\n    searchMember(search)\n  }\n\n  return (\n    <>\n      <div className='px-9'>\n        <Link to=\"/membersform\">\n          <div className='bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max'>Add Member</div>\n        </Link>\n        <div className='bg-blue-500 p-3 my-5 text-white hover:bg-gray-400 cursor-pointer max-w-max' onClick={ExporttoExcel}>Export</div>\n        <div className='flex flex-row'>\n          <input type=\"text\" value={search} className='w-[20%]' onChange={(e) => setSearch(e.target.value)} placeholder='Search' />\n          <div className='bg-blue-500 px-4 text-white hover:bg-gray-400 cursor-pointer' onClick={handleSearch}>SEARCH</div>\n        </div>\n        <div className='grid grid-cols-5 mt-10 w-[85%]'>\n          <div className='flex text-left'>सभासद क्र.</div>\n          <div className='flex text-left'>संपूर्ण नांव</div>\n          <div className='flex text-left'>भ्रमणध्वनी</div>\n          <div className='flex text-left'>सभासद वर्ग</div>\n          <div className='flex text-left'>लाईफ स्टेटस</div>\n        </div>\n        <hr />\n        <div>\n          <div className='my-5'></div>\n          {members.sort((a, b) => a.memberno - b.memberno).map((member) => {\n            return (\n              <div className='flex flex-row my-5'>\n                <div className='grid grid-cols-5 w-[85%]' key={member}>\n                  <div className='flex items-center justify-start'>\n                    <p>{member.memberno}</p>\n                  </div>\n                  <div className='flex items-center justify-start'><p>{member.fullname}</p></div>\n                  <div className='flex items-center justify-start'><p>{member.mobile === \"\" ? '-' : member.mobile}</p></div>\n                  <div className='flex items-center justify-start'><p>{member.membership}</p></div>\n                  <div className='flex items-center justify-start'><p>{member.livingStatus}</p></div>\n                </div>\n                <div className='flex flex-row items-center justify-center'>\n                  <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => updateMemberDetails(member)}>EDIT</div>\n                  <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => deleteMember(member.id)}>DELETE</div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default MembersPage\n\n\n// {\n//   members.sort((a, b) => a.memberno > b.memberno ? b : a).map((member) => {\n//     return (\n//       <div className='flex flex-row my-5'>\n//         <div className='grid grid-cols-5 w-[85%]' key={member}>\n//           <div className='flex items-center justify-start'>\n//             <p>{member.memberno}</p>\n//           </div>\n//           <div className='flex items-center justify-start'><p>{member.fullname}</p></div>\n//           <div className='flex items-center justify-start'><p>{member.mobile === \"\" ? '-' : member.mobile}</p></div>\n//           <div className='flex items-center justify-start'><p>{member.membership}</p></div>\n//           <div className='flex items-center justify-start'><p>{member.livingStatus}</p></div>\n//         </div>\n//         <div className='flex flex-row items-center justify-center'>\n//           <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => updateMemberDetails(member)}>EDIT</div>\n//           <div className='bg-blue-500 px-4 mx-2 text-white hover:bg-gray-400 cursor-pointer' onClick={() => deleteMember(member.id)}>DELETE</div>\n//         </div>\n//       </div>\n//     )\n//   })\n// }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}